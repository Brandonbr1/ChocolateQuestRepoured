package com.teamcqr.chocolatequestrepoured.objects.entity.ai;

import com.teamcqr.chocolatequestrepoured.objects.entity.ICQREntity;
import net.minecraft.entity.EntityCreature;
import net.minecraft.entity.ai.EntityAIBase;

public class EntityAIMoveHome extends EntityAIBase {
	
	private final EntityCreature creature;
	
	public EntityAIMoveHome(EntityCreature creature) {
		this.creature = creature;
	}
	
	@Override
	public boolean shouldExecute() {
		if (creature.getAttackTarget() == null && creature instanceof ICQREntity) {
			ICQREntity cqrentity = (ICQREntity) creature;
			if (cqrentity.getHome() != null && creature.getDistance(cqrentity.getHome().getX(), cqrentity.getHome().getY(), cqrentity.getHome().getZ()) > 20.0D) {
				return true;
			}
		}
		return false;
	}
	
	@Override
	public void startExecuting() {
		ICQREntity cqrentity = (ICQREntity) creature;
		creature.getNavigator().tryMoveToXYZ(cqrentity.getHome().getX(), cqrentity.getHome().getY(), cqrentity.getHome().getZ(), 1.0D);
	}
	
	@Override
	public boolean shouldContinueExecuting() {
		return !creature.getNavigator().noPath();
	}
	
}
